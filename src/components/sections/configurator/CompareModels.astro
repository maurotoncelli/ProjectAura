---
import { getConfiguratorContent, getProducts } from '../../../lib/data';
const config = getConfiguratorContent();
const products = getProducts();
---

<section class="container mx-auto px-8 mb-48 reveal-on-scroll">
  <div class="text-center mb-24">
    <p class="text-xs text-at-oak font-bold uppercase tracking-widest mb-4">{config.confronta.label}</p>
    <h2 class="text-5xl font-light uppercase tracking-tight">{config.confronta.heading}</h2>
    <p class="mt-6 text-base font-light text-at-text/60 max-w-2xl mx-auto tracking-wide leading-relaxed font-serif italic">{config.confronta.subtitle}</p>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
    {products.map((product, i) => (
      <div class={i === 1 ? 'comparison-card border-at-oak/30 bg-at-stone/10 cursor-pointer' : 'comparison-card cursor-pointer'} data-model={product.modelNumber}>
        {product.badge && (
          <div class="absolute top-6 right-6 text-[8px] font-bold uppercase tracking-widest bg-at-oak text-white px-3 py-1 rounded-full">{product.badge}</div>
        )}
        <img src={product.image} class="w-full h-48 object-contain mb-12 grayscale" alt={product.modelNumber} loading="lazy" decoding="async" />
        <h3 class="text-2xl font-semibold mb-2 uppercase tracking-widest text-at-walnut">{product.model}</h3>
        <p class="text-3xl font-serif text-at-graphite mb-6">&euro; <span class="model-price">{product.displayPrice}</span></p>
        <div class="w-full">
          {product.specRows.map(row => (
            <div>
              <p class="spec-label">{row.label}</p>
              <p class="spec-value">{row.value}</p>
            </div>
          ))}
        </div>
        <button class="mt-8 px-8 py-4 border border-at-graphite text-at-graphite font-bold text-xs uppercase tracking-widest hover:bg-at-graphite hover:text-white transition w-full">Seleziona</button>
      </div>
    ))}
  </div>
</section>
