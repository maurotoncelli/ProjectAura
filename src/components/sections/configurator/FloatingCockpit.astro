---
import { getConfiguratorContent } from '../../../lib/data';
import { Z_INDEX } from '../../../lib/constants';
const config = getConfiguratorContent();
---

<div id="config-cockpit" class="fixed bottom-6 md:bottom-12 left-1/2 transform -translate-x-1/2 pointer-events-auto transition-all duration-500" style={{ zIndex: Z_INDEX.COCKPIT_INTERACTIVE }}>

  <div id="cockpit-label" class="absolute bottom-full left-1/2 -translate-x-1/2 mb-4 md:mb-6 text-[10px] md:text-xs font-bold uppercase tracking-[0.2em] text-at-graphite transition-colors duration-500 whitespace-nowrap">
    {config.cockpit.defaultLabel}
  </div>

  <div id="cockpit-body" class="flex items-center gap-3 px-4 py-3 md:gap-8 md:px-8 md:py-5 rounded-full bg-white/40 backdrop-blur-xl border border-white/30 shadow-2xl transition-all duration-500">

    <div class="flex items-center gap-2 md:gap-4">
      <button class="mat-btn active relative w-8 h-8 md:w-10 md:h-10 rounded-full shadow-lg transition-transform hover:scale-110" data-material="Rovere" style="background-color: #96705B;" title="Rovere"></button>
      <button class="mat-btn relative w-8 h-8 md:w-10 md:h-10 rounded-full shadow-lg transition-transform hover:scale-110" data-material="Cipresso" style="background-color: #C2B280;" title="Cipresso"></button>
      <button class="mat-btn relative w-8 h-8 md:w-10 md:h-10 rounded-full shadow-lg transition-transform hover:scale-110" data-material="Noce" style="background-color: #4A3728;" title="Noce"></button>
    </div>

    <div class="w-px h-6 md:h-8 bg-black/10 transition-colors duration-500" id="cockpit-divider"></div>

    <div class="flex items-center gap-3 md:gap-6">
      <div class="cursor-pointer group" title="Toggle Day/Night">
        <div id="dn-switch-track" class="w-10 h-6 md:w-14 md:h-8 bg-black/10 rounded-full relative transition-colors duration-500">
          <div id="dn-switch-thumb" class="absolute top-0.5 left-0.5 md:top-1 md:left-1 w-5 h-5 md:w-6 md:h-6 bg-white rounded-full shadow-md transition-transform duration-500 flex items-center justify-center">
            <svg id="icon-sun-sm" class="w-3 h-3 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
            <svg id="icon-moon-sm" class="w-3 h-3 text-indigo-500 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
          </div>
        </div>
      </div>

      <div id="led-section" class="flex flex-col justify-center gap-1">
        <span id="rgb-label" class="text-[9px] font-bold uppercase tracking-widest text-at-graphite opacity-50 transition-colors duration-500">{config.cockpit.ledLabel}</span>
        <!-- Desktop: range slider -->
        <input type="range" id="mood-slider" class="mood-slider hidden md:block" min="0" max="360" value="0" />
        <!-- Mobile: tappable color dots (visible only in night mode) -->
        <div id="led-color-dots" class="items-center gap-1.5">
          <button class="led-dot active" data-hue="30" style="background: hsl(30,100%,65%);" title="Warm"></button>
          <button class="led-dot" data-hue="0" style="background: hsl(0,100%,60%);" title="Red"></button>
          <button class="led-dot" data-hue="60" style="background: hsl(60,100%,55%);" title="Yellow"></button>
          <button class="led-dot" data-hue="120" style="background: hsl(120,80%,50%);" title="Green"></button>
          <button class="led-dot" data-hue="200" style="background: hsl(200,100%,60%);" title="Cyan"></button>
          <button class="led-dot" data-hue="270" style="background: hsl(270,80%,65%);" title="Purple"></button>
          <button class="led-dot" data-hue="320" style="background: hsl(320,80%,60%);" title="Pink"></button>
        </div>
      </div>
    </div>
  </div>
</div>
