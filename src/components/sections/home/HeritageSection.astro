---
import { getHomeContent } from '../../../lib/data';
const home = getHomeContent();
---

<section id="heritage-section" class="min-h-screen w-full relative flex items-center bg-at-stone text-at-text overflow-hidden py-16 md:py-32 z-curtain">
  <div class="container mx-auto px-8 flex flex-col md:flex-row items-center gap-12 md:gap-24">
    <div class="w-full md:w-1/2 h-[50vh] md:h-[800px] bg-black relative overflow-hidden reveal-on-scroll flex items-center justify-center">
      <video
        autoplay
        muted
        loop
        playsinline
        preload="none"
        class="w-full h-full object-cover"
        ontimeupdate="if(this.duration&&this.currentTime>this.duration-0.3){this.currentTime=0}"
      >
        <source src="/videos/mano-macchina.mp4" type="video/mp4" />
      </video>
      <div class="absolute bottom-6 left-0 right-0 flex justify-center z-10">
        <button
          class="px-8 py-3 bg-white text-at-graphite text-xs uppercase tracking-[0.2em] font-medium hover:bg-white/80 transition-all duration-500 border-none"
          onclick="window.openVideoModal && window.openVideoModal('/videos/mano-macchina.mp4')"
        >
          Guarda il Video
        </button>
      </div>
    </div>
    <div class="w-full md:w-1/2 reveal-on-scroll">
      <h2 class="section-title font-light mb-8 leading-none tracking-tight fluid-element" set:html={home.heritage.headingHtml}></h2>
      <div class="w-24 h-1 bg-at-text mb-12"></div>
      <p class="text-lg md:text-2xl font-light leading-relaxed mb-8">{home.heritage.description}</p>
    </div>
  </div>
</section>
